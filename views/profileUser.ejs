<!DOCTYPE html>
<html lang="es">
  <!-- head -->
<%- include("partials/head")  %> 
<!-- fin head-->
  <body>

<!-- header -->
<%- include("partials/header")  %>
 
<!-- fin header  -->

<main class="mainEditUser">
    <form class="form" action="">
        <div class="container-user">
            <div class="titleC">
                <span class="title1">Mis datos</span>
            </div>
            
            <section class="sectionM">
                    <div class="imagesReg1" id="imagePreview"  >
                        <img id="old1" src="/image/userAvatars/avatar.png " alt="">
                    </div>
                    <div class="inputMask bordeColor">
                        <input class="inputOut" type="file" id="examinar" name="avatar" value=""> <!-- este nombre va en el metodo post al cargar en multer -->
                        Elija una Imagen
                    </div> 
                    <p id="errorImage"></p>
            </section >
            <div class="datos-user">
                <div class="data-edit">
                    <label class="midle1" for="">Nombre</label>
                    <input class="input1" type="text" value="" name="name">
                </div>
                <div class="data-edit">
                    <label class="midle1" for="">Apellido</label>
                    <input class="input1" type="text" value=""name="last_name">
                </div>
                <div class="data-edit">
                    <label class="midle1" for="">E-mail</label>
                    <input class="input1" type="email" value=""name="mail">
                </div>
                <div class="data-edit">
                    <label class="midle1" for="">Teléfono</label>
                    <input class="input1" type="number" value=""name="phone">
                </div>
                <div class="data-edit">
                    <label class="midle1" for="">Direcciòn</label>
                    <input class="input1" type="text" value=""name="address">
                </div>
                <div class="data-edit">
                    <label class="midle1" for="">Código Postal</label>
                    <input class="input1" type="text" value=""name="pCode">
                </div>
                <div class="data-edit">
                    <label class="midle1" for="">Ciudad</label>
                    <input class="input1" type="text" value=""name="city">
                </div>
                <div class="data-edit">
                    <label class="midle1" for="">Provincia</label>
                    <input class="input1" type="text" value=""name="province">
                </div>
                <div class="contbutton" id="contbutton" action="">
                    <div class="prueba" id="prueba">

                    </div>
                    <button  type="submin" class="btn-user bSave" id="bSave">Guardar datos</button>
                    <button  onclick="edit()" type="submin" class="btn-user bEdit">Editar datos</button>
                </div>
            </div>
         </div>
    </form>
    
</main>
<script>
  


    let inputImage = document.getElementById('examinar')
inputImage.addEventListener('change', 
function fileValidation(){
    var errorImage = document.getElementById('errorImage')
    var filePath = inputImage.value;
    var allowefExtensions = /(.jpg|.jpeg|.png|.gif)$/i;
    if(!allowefExtensions.exec(filePath)){ 
        let error = 'Solo usá extensiones (.jpg - .jpeg - .png - .gif)'
        errorImage.innerHTML = error;
        inputImage.value = '';
        document.getElementById('imagePreview').innerHTML = '<img src="/image/userAvatars/avatar.png"/>';
        return false;
    }else{
        if(inputImage.files && inputImage.files[0]){
            var reader = new FileReader();
            reader.onload = function(e){
                document.getElementById('imagePreview').innerHTML = '<img src="' + e.target.result +'"/>';
            };
            reader.readAsDataURL(inputImage.files[0]);
            errorImage.innerHTML = '';
        }
    }
})

let prueba = document.getElementById('prueba')
let cb = document.getElementById("contbutton");
function edit() {
        prueba.style.display="flex"; 
            
    }
</script>   
<!-- footer -->
<%- include("partials/footer")  %> 
<!-- fin footer  -->
  </body>
</html>
